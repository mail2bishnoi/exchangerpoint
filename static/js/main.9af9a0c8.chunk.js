(this["webpackJsonpexchanger-point"]=this["webpackJsonpexchanger-point"]||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/sprite.3ca06f17.svg"},142:function(e,t,a){e.exports=a.p+"static/media/user.2e13e06d.jpg"},180:function(e,t,a){e.exports=a(307)},188:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"signin",(function(){return L})),a.d(n,"signout",(function(){return C})),a.d(n,"signup",(function(){return I})),a.d(n,"activateAccount",(function(){return U})),a.d(n,"toggleLoading",(function(){return T})),a.d(n,"getUser",(function(){return G}));var r=a(0),c=a.n(r),o=a(22),s=a.n(o),i=a(17),l=a(19),u=a(8),m=a(136),p=(a(188),a(52)),d=(a(189),a(9)),h=a(10),b=a(12),f=a(11),v=a(13),E=a(38),g=a(132),O=a(133),y=a(328),_=function(){return c.a.createElement(y.a,{color:"inherit",size:16})},j=a(21),N=a.n(j),k=a(33),w=a(96),x=a.n(w),S=x.a.create({baseURL:"https://test.exchangerpoint.com/api/v1",headers:{"Content-Type":"application/json"},auth:{username:"web_truested_cleint",password:"33b18e054ee604fa383f46ec6e28ea1d"}}),A=x.a.create({baseURL:"https://test.exchangerpoint.com/oauth/token",headers:{"Content-Type":"application/json"},auth:{username:"web_truested_cleint",password:"33b18e054ee604fa383f46ec6e28ea1d"}}),L=function(e,t){return function(){var a=Object(k.a)(N.a.mark((function a(n){var r,c;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"TOGGLE_LOADING",payload:!0}),r=JSON.stringify(e),p.b.info("Authentication is in progress"),a.prev=3,a.next=6,A.post("",r,{params:{grant_type:"password",scope:"write",username:e.username,password:e.password}});case 6:200===(c=a.sent).status&&(p.b.success("Authentication Successful"),localStorage.setItem("access_token",c.data.access_token),n({type:"AUTH_USER",payload:c.data}),n({type:"TOGGLE_LOADING",payload:!1}),t(c)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(3),p.b.error("Authentication Failed"),n({type:"TOGGLE_LOADING",payload:!1});case 14:case"end":return a.stop()}}),a,null,[[3,10]])})));return function(e){return a.apply(this,arguments)}}()},C=function(){return function(){var e=Object(k.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("access_token"),t({type:"LOG_OUT",payload:null}),e.abrupt("return",{type:"AUTH_USER",payload:""});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(e,t){return function(){var a=Object(k.a)(N.a.mark((function a(n){var r,c;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=JSON.stringify(e),a.prev=1,a.next=4,S.post("/users/create/",r);case 4:c=a.sent,t(c),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"AUTH_ERROR",payload:"Signup Error"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},U=function(e,t){return function(){var a=Object(k.a)(N.a.mark((function a(n){var r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=JSON.stringify(e),a.prev=1,a.next=4,S.put("/users/activate/",r);case 4:a.sent.status,t(),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(1);case 11:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(k.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"TOGGLE_LOADING",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return function(){var t=Object(k.a)(N.a.mark((function t(a){var n,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("access_token"),t.prev=1,t.next=4,S.get("/users/mail2bishnoi",{headers:{Authorization:"Bearer ".concat(n)}});case 4:r=t.sent,console.log(r.data),a({type:"GET_USER",payload:null}),e(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"AUTH_ERROR",payload:"Signup Error"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signin(e,(function(e){200===e.status&&a.props.history.push("/dashboard")}))},a.renderInput=function(e){var t=e.input,n=e.label,r=e.type,o=e.placeholder,s=e.meta,i="_form_group ".concat(s.error&&s.touched?"_error":"");return c.a.createElement("div",{className:i},c.a.createElement("label",{htmlFor:t.name},n),c.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:r,placeholder:o,className:"_form_control"})),a.renderError(s))},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.auth&&this.props.history.push("/dashboard")}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return c.a.createElement("div",{className:"_form_text red"},t)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.pristine,n=e.submitting;return c.a.createElement("section",{className:"section-signin"},c.a.createElement("div",{className:"signin"},c.a.createElement("h2",{className:"signin__heading"},"ExchangerPoint"),c.a.createElement("nav",null,c.a.createElement("ul",{className:"signin__navigation"},c.a.createElement("li",{className:"signin__item"},c.a.createElement(i.b,{to:"#",className:"signin__link signin__link--active"},"Login")),c.a.createElement("li",{className:"signin__item"},c.a.createElement(i.b,{to:"/signup",className:"signin__link"},"Signup")))),c.a.createElement("div",{className:"signin__box"},c.a.createElement("form",{onSubmit:t(this.onSubmit),className:"form",noValidate:!0},c.a.createElement(g.a,{name:"username",type:"text",component:this.renderInput,label:"Username:",placeholder:"Username"}),c.a.createElement(g.a,{name:"password",type:"password",component:this.renderInput,label:"Password:",placeholder:"Password"}),c.a.createElement("button",{type:"submit",disabled:a||n},this.props.loading?c.a.createElement(_,null):"Login to your account"))),c.a.createElement(i.b,{to:"#",className:"forgot-pasword"},"Forgot Your Password?")))}}]),t}(r.Component);var D=Object(u.d)(Object(l.b)((function(e){return{loading:e.toggleLoading.toggleLoading}}),n),Object(O.a)({form:"signin",validate:function(e){var t={};return e.username||(t.username="You must enter an username"),e.password||(t.password="You must enter a password"),t}}))(R),M=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signup(e,(function(e){201===e.status&&a.props.history.push("/users/activate/account")}))},a.renderInput=function(e){var t=e.input,n=e.label,r=e.type,o=e.placeholder,s=e.meta,i="_form_group ".concat(s.error&&s.touched?"_error":"");return c.a.createElement("div",{className:i},c.a.createElement("label",{htmlFor:t.name},n),c.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:r,placeholder:o,className:"_form_control"})),a.renderError(s))},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.auth&&this.props.history.push("/dashboard")}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return c.a.createElement("div",{className:"_form_text red"},t)}},{key:"render",value:function(){var e=this.props.handleSubmit;return c.a.createElement("section",{className:"section-signin"},c.a.createElement("div",{className:"signin"},c.a.createElement("h2",{className:"signin__heading"},"ExchangerPoint"),c.a.createElement("nav",null,c.a.createElement("ul",{className:"signin__navigation"},c.a.createElement("li",{className:"signin__item"},c.a.createElement(i.b,{to:"/signin",className:"signin__link"},"Login")),c.a.createElement("li",{className:"signin__item"},c.a.createElement(i.b,{to:"#",className:"signin__link signin__link--active"},"Signup")))),c.a.createElement("div",{className:"signin__box"},c.a.createElement("form",{onSubmit:e(this.onSubmit),className:"form",noValidate:!0},c.a.createElement(g.a,{name:"userName",type:"text",component:this.renderInput,label:"Username:",placeholder:"Username"}),c.a.createElement(g.a,{name:"email",type:"text",component:this.renderInput,label:"Email:",placeholder:"Email"}),c.a.createElement(g.a,{name:"password",type:"password",component:this.renderInput,label:"Password:",placeholder:"Password"}),c.a.createElement("button",{type:"submit"},"Create account"))),c.a.createElement(i.b,{to:"#",className:"forgot-pasword"},"Forgot Your Password?")))}}]),t}(r.Component);var P=Object(u.d)(Object(l.b)((function(e){return{errorMessage:e.auth.errorMessage,auth:e.auth.authenticated}}),n),Object(O.a)({form:"signup",validate:function(e){var t={};return e.userName||(t.userName="You must enter an User Name"),e.email||(t.email="You must enter an Email"),e.password||(t.password="You must enter a password"),t}}))(M),F=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.signout()}},{key:"render",value:function(){return c.a.createElement("div",null,"Sorry to see you go")}}]),t}(r.Component),H=Object(l.b)(null,n)(F),Y=a(45),J=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.activateAccount(e,(function(e){console.log("inside activate account callback"),a.props.history.push("/signin")}))},a.renderInput=function(e){var t=e.input,n=e.label,r=e.type,o=e.placeholder,s=e.meta,i="_form_group ".concat(s.error&&s.touched?"_error":"");return c.a.createElement("div",{className:i},c.a.createElement("label",{htmlFor:t.name},n),c.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:r,placeholder:o,className:"_form_control"})),a.renderError(s))},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.username&&this.props.dispatch(Object(Y.a)("accountActivate","userName",this.props.match.params.username)),this.props.match.params.activationcode&&this.props.dispatch(Object(Y.a)("accountActivate","activationcode",this.props.match.params.activationcode))}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return c.a.createElement("div",{className:"_form_text red"},t)}},{key:"render",value:function(){var e=this.props.handleSubmit;return c.a.createElement("div",null,c.a.createElement("section",{className:"section-signin"},c.a.createElement("div",{className:"signin"},c.a.createElement("h4",{className:"signin__heading"},"Please Activate Your Account"),c.a.createElement("div",{className:"signin__box"},c.a.createElement("form",{onSubmit:e(this.onSubmit),className:"form",noValidate:!0},c.a.createElement(g.a,{name:"userName",type:"text",component:this.renderInput,label:"Username:",placeholder:"Username"}),c.a.createElement(g.a,{name:"activationCode",type:"text",component:this.renderInput,label:"Activation Code:",placeholder:"Activation Code"}),c.a.createElement("button",{type:"submit"},"Activate your account"))))))}}]),t}(r.Component);var V=Object(u.d)(Object(l.b)((function(e){return{errorMessage:e.auth.errorMessage,auth:""}}),n),Object(O.a)({form:"accountActivate",validate:function(e){var t={};return e.userName||(t.userName="You must enter an username"),e.activationCode||(t.activationCode="You must enter a verification code"),t}}))(J),B=a(100),z=a.n(B),W=a(142),X=a.n(W),q=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.onClickHandle=function(e){a.setState({anchorEl:e.currentTarget})},a.onHandleClose=function(){a.setState({anchorEl:null})},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement("header",{className:"header"},c.a.createElement("nav",{className:"left-nav"},c.a.createElement("div",{className:"left-nav__icon-box"},c.a.createElement("svg",{className:"logo"},c.a.createElement("use",{xlinkHref:z.a+"#icon-loop2"}))),c.a.createElement("div",{className:"left-nav__icon-box"},c.a.createElement(i.b,{to:"/dashboard/buy",className:"left-nav_link"},"Buy")),c.a.createElement("div",{className:"left-nav__icon-box"},c.a.createElement(i.b,{to:"/dashboard/sell",className:"left-nav_link"},"Sell"))),c.a.createElement("nav",{className:"user-nav"},c.a.createElement("div",{className:"user-nav__icon-box"},c.a.createElement(i.b,{to:"/dashboard/deposite",className:"user-nav_link"},"Deposite")),c.a.createElement("div",{className:"user-nav__icon-box"},c.a.createElement(i.b,{to:"/dashboard/withdraw",className:"user-nav_link"},"Withdraw")),c.a.createElement("div",{className:"user-nav__icon-box"},c.a.createElement("svg",{className:"user-nav__icon"},c.a.createElement("use",{xlinkHref:z.a+"#icon-chat"})),c.a.createElement("span",{className:"user-nav__notifications"},"13")),c.a.createElement("div",{className:"user-nav__user",onClick:this.onClickHandle},c.a.createElement("img",{src:X.a,className:"user-nav__user-photo",alt:"user avtar"}),c.a.createElement("span",{className:"user-nav__user-name"},"Ashutosh"))))}}]),t}(r.Component),K=a(151),Q=a(152),Z=a(330),$=a(332),ee=a(331),te=a(144),ae=a.n(te),ne=a(143),re=a.n(ne),ce=a(333);function oe(e){var t,a=e.depthStep,n=void 0===a?18:a,r=e.depth,o=void 0===r?0:r,s=(e.expanded,e.item),l=Object(Q.a)(e,["depthStep","depth","expanded","item"]),u=c.a.useState(!0),m=Object(K.a)(u,2),p=m[0],d=m[1],h=s.label,b=s.items,f=s.Icon,v=s.Link,E=s.onItemClick;return Array.isArray(b)&&b.length&&(t=p?c.a.createElement(ae.a,{className:"sidebar-item-expand-arrow"}):c.a.createElement(re.a,{className:"sidebar-item-expand-arrow sidebar-item-expand-arrow-expanded"})),c.a.createElement(c.a.Fragment,null,c.a.createElement($.a,Object.assign({className:"sidebar-item",onClick:function(e){Array.isArray(b)&&d((function(e){return!e})),E&&E(e,s)},button:!0},l),c.a.createElement("div",{style:{paddingLeft:o*n},className:"sidebar-item-content"},f&&c.a.createElement(f,{className:"sidebar-item-icon"}),c.a.createElement(i.b,{to:v,className:"sidebar-item-text"},h)),t),c.a.createElement(ce.a,{in:!p,timeout:"auto",unmountOnExit:!0},Array.isArray(b)?c.a.createElement(Z.a,null,b.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:"".concat(e.name).concat(t)},"divider"===e?c.a.createElement(ee.a,{style:{margin:"6px 0"}}):c.a.createElement(oe,{depth:o+1,depthStep:n,item:e}))}))):null))}var se=function(e){var t=e.items,a=e.depthStep,n=e.depth,r=e.expanded;return c.a.createElement(Z.a,null,t.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:"".concat(e.name).concat(t)},"divider"===e?c.a.createElement(ee.a,{style:{margin:"0"}}):c.a.createElement(oe,{depthStep:a,depth:n,expanded:r,item:e}))})))},ie=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"AppFooter")}}]),t}(r.Component),le=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"Setting")}}]),t}(r.Component),ue=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"User Profile")}}]),t}(r.Component),me=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"AppDashboard")}}]),t}(r.Component),pe=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement("main",{className:"dashboard-view"},c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/dashboard",component:me}),c.a.createElement(E.a,{path:"/dashboard/profile",component:ue}),c.a.createElement(E.a,{path:"/dashboard/setting",component:le})))}}]),t}(r.Component),de=a(145),he=a.n(de),be=a(146),fe=a.n(be),ve=a(147),Ee=a.n(ve),ge=a(148),Oe=a.n(ge),ye=a(149),_e=a.n(ye),je=a(150),Ne=a.n(je),ke=[{name:"dashboard",label:"Dashboard",Link:"/dashboard",Icon:he.a},{name:"wallet",label:"Wallet",Link:"/wallet",Icon:fe.a},{name:"trade",label:"Trade",Link:"/trade",Icon:Ee.a},{name:"verification",label:"Verification",Link:"/verification",Icon:Oe.a},{name:"settings",label:"Settings",Icon:_e.a,Link:"#",items:[{name:"basicinfo",label:"Basic Info",Link:"/basicinfo"},{name:"apimanagement",label:"API Management",Link:"/apimanagement"}]},{name:"logout",label:"Logout",Link:"/signout",Icon:Ne.a}],we=function(e){var t=function(t){function a(){return Object(d.a)(this,a),Object(b.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(v.a)(a,t),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth||this.props.history.push("/signin")}},{key:"render",value:function(){return c.a.createElement(e,this.props)}}]),a}(r.Component);return Object(l.b)((function(e){return{auth:e.auth.authenticated}}))(t)}(function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(q,null),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"sidebar"},c.a.createElement(se,{items:ke})),c.a.createElement(pe,null)),c.a.createElement(ie,null))}}]),t}(r.Component)),xe=(a(306),function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.a.createElement(r.Fragment,null,c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/signin",component:D}),c.a.createElement(E.a,{exact:!0,path:"/signup",component:P}),c.a.createElement(E.a,{exact:!0,path:"/signout",component:H}),c.a.createElement(E.a,{exact:!0,path:"/users/activate/account",component:V}),c.a.createElement(E.a,{exact:!0,path:"/user/:username/activate/:activationcode",component:V}),c.a.createElement(E.a,{path:"/",component:we})))}}]),t}(r.Component)),Se=a(134),Ae=a(54),Le={authenticated:!!localStorage.getItem("access_token"),errorMessage:"",user:null},Ce={currentUser:null},Ie={toggleLoading:!1},Ue=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER":return Object(Ae.a)({},e,{user:t.payload,authenticated:!0});case"LOG_OUT":return Object(Ae.a)({},e,{user:t.payload,authenticated:!1});case"AUTH_ERROR":return Object(Ae.a)({},e,{errorMessage:t.payload});default:return e}},form:Se.a,userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return Object.assign({},e,{currentUser:t.payload});default:return e}},toggleLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_LOADING":return Object(Ae.a)({},e,{toggleLoading:t.payload});default:return e}}}),Te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,Ge=Object(u.e)(Ue,Te(Object(u.a)(m.a)));s.a.render(c.a.createElement(l.a,{store:Ge},c.a.createElement(i.a,null,c.a.createElement(p.a,{autoClose:2e3}),c.a.createElement(xe,null))),document.querySelector("#root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.9af9a0c8.chunk.js.map